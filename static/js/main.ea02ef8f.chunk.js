(this["webpackJsonpinfinite-monkey"]=this["webpackJsonpinfinite-monkey"]||[]).push([[0],{10:function(t,e,n){t.exports=n(18)},17:function(t,e,n){},18:function(t,e,n){"use strict";n.r(e);var a=n(0),s=n.n(a),i=n(5),r=n.n(i),o=n(6),l=n(1),u=n(2),c=n(9),h=n(8),g=n(3),p=function(){function t(e){Object(l.a)(this,t),this.genes=[],this.fitness=0;for(var n=0;n<e;n++)this.genes[n]=this.getRandomChar()}return Object(u.a)(t,[{key:"calculateFitness",value:function(t){for(var e=0,n=0;n<this.genes.length;n++)this.genes[n]===t.charAt(n)&&e++;this.fitness=Math.max(.01,Math.pow(e/t.length,2))}},{key:"crossover",value:function(e){for(var n=new t(this.genes.length),a=Math.floor(Math.random(this.genes.length)),s=0;s<this.genes.length;s++)n.genes[s]=s>a?this.genes[s]:e.genes[s];return n}},{key:"mutate",value:function(t){for(var e=0;e<this.genes.length;e++)Math.random()<t&&(this.genes[e]=this.getRandomChar())}},{key:"getRandomChar",value:function(){var t=32+95*Math.random();return String.fromCharCode(t)}},{key:"getFitness",value:function(){return this.fitness}},{key:"toString",value:function(){return this.genes.join("")}}]),t}(),m=function(){function t(e,n,a){Object(l.a)(this,t),this.targetPhrase=e,this.populationSize=n,this.mutationRate=a,this.generationCount=0,this.bestPhrase="",this.bestFitness=0,this.averageFitness=0,this.currentBestFitness=0,this.currentWorstFitness=0,this.population=[];for(var s=0;s<n;s++)this.population.push(new p(e.length))}return Object(u.a)(t,[{key:"calculateFitness",value:function(){var t,e=Object(g.a)(this.population);try{for(e.s();!(t=e.n()).done;){t.value.calculateFitness(this.targetPhrase)}}catch(n){e.e(n)}finally{e.f()}}},{key:"nextGeneration",value:function(){this.calculateFitness(),this.updateStatistics();for(var t=[],e=0;e<this.populationSize;e++){var n=this.getRandomDNA(),a=this.getRandomDNA(),s=n.crossover(a);s.mutate(this.mutationRate),t.push(s)}this.population=t,this.calculateFitness(),this.updateStatistics()}},{key:"updateStatistics",value:function(){this.generationCount++,this.averageFitness=this.getTotalFitness()/this.populationSize,this.currentBestFitness=0,this.currentWorstFitness=0;var t,e=Object(g.a)(this.population);try{for(e.s();!(t=e.n()).done;){var n=t.value,a=n.getFitness();a>this.bestFitness&&(this.bestFitness=a,this.bestPhrase=n.toString()),a>this.currentBestFitness&&(this.currentBestFitness=a),(0===this.currentWorstFitness||a<this.currentWorstFitness)&&(this.currentWorstFitness=a)}}catch(s){e.e(s)}finally{e.f()}}},{key:"getRandomDNA",value:function(){for(var t=0,e=Math.random(),n=this.getTotalFitness();e>=0;)e-=this.population[t].getFitness()/n,t++;return this.population[t-1]}},{key:"getTotalFitness",value:function(){var t,e=0,n=Object(g.a)(this.population);try{for(n.s();!(t=n.n()).done;){e+=t.value.getFitness()}}catch(a){n.e(a)}finally{n.f()}return e}},{key:"isFinished",value:function(){return this.bestFitness>=1}},{key:"getGenerationCount",value:function(){return this.generationCount}},{key:"getBestPhrase",value:function(){return this.bestPhrase}},{key:"getBestFitness",value:function(){return this.bestFitness}},{key:"getAverageFitness",value:function(){return this.averageFitness}},{key:"getCurrentBestFitness",value:function(){return this.currentBestFitness}},{key:"getCurrentWorstFitness",value:function(){return this.currentWorstFitness}},{key:"getPopulationArr",value:function(){return this.population.map((function(t){return t.toString()}))}}]),t}(),f=function(t){var e=t.value,n=t.onClick;return s.a.createElement("button",{className:"btn btn-primary btn-lg",type:"button",onClick:function(t){t.target.blur(),n()}},e)},v=function(t){for(var e=t.populationArr,n=t.targetPhrase,a=Math.ceil(e.length/25),i=Math.trunc(e.length/a),r=e.length%a,o=[],l=0;l<a;l++)o.push(e.slice(l*i,l*i+i));for(var u=0;u<r;u++)o[o.length-1-u].push(e[e.length-1-u]);return o.map((function(t,e){return s.a.createElement("div",{className:"col col-auto",key:e},t.map((function(t,a){return s.a.createElement("div",{className:"row",key:String(e+a)},s.a.createElement("div",{className:"col"},s.a.createElement("h5",{className:t===n?"font-weight-bold":""},t)))})))}))};v.defaultProps={populationArr:[]};var d=v,F=n(7),y=n.n(F),b=function(t){Object(c.a)(n,t);var e=Object(h.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).handleOnChangeState=function(t){a.setState(Object(o.a)({},t.target.id,t.target.value))},a.handleOnClickStart=function(){a.state.targetPhrase.length>0&&(a.population=new m(a.state.targetPhrase,a.state.populationSize,.01*a.state.mutationRate),a.setState({isRunning:!0}))},a.update=function(){a.state.isRunning&&(a.population.isFinished()?a.setState({isRunning:!1}):(a.population.nextGeneration(),a.setState({generationCount:a.population.getGenerationCount(),bestPhrase:a.population.getBestPhrase(),bestFitness:a.population.getBestFitness(),averageFitness:a.population.getAverageFitness(),currentBestFitness:a.population.getCurrentBestFitness(),currentWorstFitness:a.population.getCurrentWorstFitness(),populationArr:a.population.getPopulationArr()})))},a.getFitnessString=function(t){return Math.round(100*t)+"%"},a.state={targetPhrase:"",populationSize:250,mutationRate:5,generationCount:0,bestPhrase:"",bestFitness:0,averageFitness:0,currentBestFitness:0,currentWorstFitness:0,populationArr:[],isRunning:!1},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.timer=setInterval((function(){return t.update()}),1e3/60)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){return s.a.createElement("div",{className:"App container text-center py-5"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("h1",{className:"font-weight-bold"},"Infinite Monkey"),s.a.createElement("h5",null,"Simulates the infinite monkey theorem using a genetic algorithm.",s.a.createElement("br",null),"Enter your target phrase, adjust the evolution parameters, and watch your phrase evolve."),s.a.createElement("div",{className:"row justify-content-center pt-3"},s.a.createElement("div",{className:"col col-12 col-md-4 col-lg-3 pb-3"},s.a.createElement("input",{type:"text",placeholder:"Target phrase",id:"targetPhrase",onChange:this.handleOnChangeState})),s.a.createElement("div",{className:"col col-12 col-md-4 col-lg-3 pb-3"},s.a.createElement("input",{type:"range",min:10,max:500,step:10,defaultValue:this.state.populationSize,id:"populationSize",onChange:this.handleOnChangeState}),s.a.createElement("h5",null,"Population size: ",this.state.populationSize)),s.a.createElement("div",{className:"col col-12 col-md-4 col-lg-3 pb-3"},s.a.createElement("input",{type:"range",min:0,max:100,step:1,defaultValue:this.state.mutationRate,id:"mutationRate",onChange:this.handleOnChangeState}),s.a.createElement("h5",null,"Mutation rate: ",this.state.mutationRate))),s.a.createElement("div",{className:"pt-3"},s.a.createElement(f,{value:"Start",onClick:this.handleOnClickStart})),s.a.createElement("div",{className:"row justify-content-center pt-4"},s.a.createElement("div",{className:"col col-12 col-sm-6"},s.a.createElement("h5",null,"Generations: ",this.state.generationCount),s.a.createElement("h5",null,"Best phrase: ",this.state.bestPhrase),s.a.createElement("h5",null,"Best fitness: ",this.getFitnessString(this.state.bestFitness)),s.a.createElement("h5",null,"Average fitness:"," ",this.getFitnessString(this.state.averageFitness)),s.a.createElement("h5",null,"Current best fitness:"," ",this.getFitnessString(this.state.currentBestFitness)),s.a.createElement("h5",null,"Current worst fitness:"," ",this.getFitnessString(this.state.currentWorstFitness))),s.a.createElement("div",{className:"col col-12 col-sm-6"},s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement(d,{populationArr:this.state.populationArr,targetPhrase:this.state.targetPhrase})))))),s.a.createElement(y.a,{href:"https://github.com/ryantran2165/infinite-monkey",bannerColor:"#222",octoColor:"#7fffd4",target:"_blank"}))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(16),n(17);r.a.render(s.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[10,1,2]]]);
//# sourceMappingURL=main.ea02ef8f.chunk.js.map