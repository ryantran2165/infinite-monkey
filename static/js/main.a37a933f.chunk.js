(this["webpackJsonpinfinite-monkey"]=this["webpackJsonpinfinite-monkey"]||[]).push([[0],{10:function(e,t,n){e.exports=n(18)},17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(5),i=n.n(r),o=n(6),u=n(1),l=n(2),c=n(9),h=n(8),p=function(e){var t=e.text;return s.a.createElement("h1",null,t)};p.defaultProps={text:"Default Title"};var m=p,g=function(e){var t=e.text;return s.a.createElement("h5",null,t.split("\n").map((function(e,t){return s.a.createElement(s.a.Fragment,{key:"".concat(e,"-").concat(t)},e,s.a.createElement("br",null))})))};g.defaultProps={text:"Default description"};var v=g,f=n(3),d=function(){function e(t){Object(u.a)(this,e),this.genes=[],this.fitness=0;for(var n=0;n<t;n++)this.genes[n]=this.getRandomChar()}return Object(l.a)(e,[{key:"calculateFitness",value:function(e){for(var t=0,n=0;n<this.genes.length;n++)this.genes[n]===e.charAt(n)&&t++;this.fitness=Math.max(.01,Math.pow(t/e.length,2))}},{key:"crossover",value:function(t){for(var n=new e(this.genes.length),a=Math.floor(Math.random(this.genes.length)),s=0;s<this.genes.length;s++)n.genes[s]=s>a?this.genes[s]:t.genes[s];return n}},{key:"mutate",value:function(e){for(var t=0;t<this.genes.length;t++)Math.random()<e&&(this.genes[t]=this.getRandomChar())}},{key:"getRandomChar",value:function(){var e=32+95*Math.random();return String.fromCharCode(e)}},{key:"getFitness",value:function(){return this.fitness}},{key:"toString",value:function(){return this.genes.join("")}}]),e}(),F=function(){function e(t,n,a){Object(u.a)(this,e),this.targetPhrase=t,this.populationSize=n,this.mutationRate=a,this.generationCount=0,this.bestPhrase="",this.bestFitness=0,this.averageFitness=0,this.currentBestFitness=0,this.currentWorstFitness=0,this.targetFitness=1,this.population=[];for(var s=0;s<n;s++)this.population.push(new d(t.length))}return Object(l.a)(e,[{key:"calculateFitness",value:function(){var e,t=Object(f.a)(this.population);try{for(t.s();!(e=t.n()).done;){e.value.calculateFitness(this.targetPhrase)}}catch(n){t.e(n)}finally{t.f()}}},{key:"nextGeneration",value:function(){this.calculateFitness(),this.updateStatistics();for(var e=[],t=0;t<this.populationSize;t++){var n=this.getRandomDNA(),a=this.getRandomDNA(),s=n.crossover(a);s.mutate(this.mutationRate),e.push(s)}this.population=e}},{key:"updateStatistics",value:function(){this.generationCount++,this.averageFitness=this.getTotalFitness()/this.populationSize,this.currentBestFitness=0,this.currentWorstFitness=0;var e,t=Object(f.a)(this.population);try{for(t.s();!(e=t.n()).done;){var n=e.value,a=n.getFitness();a>this.bestFitness&&(this.bestFitness=a,this.bestPhrase=n.toString()),a>this.currentBestFitness&&(this.currentBestFitness=a),(0===this.currentWorstFitness||a<this.currentWorstFitness)&&(this.currentWorstFitness=a)}}catch(s){t.e(s)}finally{t.f()}}},{key:"getRandomDNA",value:function(){for(var e=0,t=Math.random(),n=this.getTotalFitness();t>=0;)t-=this.population[e].getFitness()/n,e++;return this.population[e-1]}},{key:"getTotalFitness",value:function(){var e,t=0,n=Object(f.a)(this.population);try{for(n.s();!(e=n.n()).done;){t+=e.value.getFitness()}}catch(a){n.e(a)}finally{n.f()}return t}},{key:"isFinished",value:function(){return this.bestFitness>=this.targetFitness}},{key:"getGenerationCount",value:function(){return this.generationCount}},{key:"getBestPhrase",value:function(){return this.bestPhrase}},{key:"getBestFitness",value:function(){return this.bestFitness}},{key:"getAverageFitness",value:function(){return this.averageFitness}},{key:"getCurrentBestFitness",value:function(){return this.currentBestFitness}},{key:"getCurrentWorstFitness",value:function(){return this.currentWorstFitness}},{key:"getPopulationArr",value:function(){return this.population.map((function(e){return e.toString()}))}}]),e}(),b=function(e){var t=e.onStart;return s.a.createElement("input",{className:"btn btn-primary btn-lg",type:"button",value:"Start",onClick:t})},E=function(e){var t=e.text,n=e.value;return s.a.createElement("h5",{className:"text-break"},t,": ",n)};E.defaultProps={text:"",value:0};var y=E,C=function(e){var t=e.generationCount,n=e.bestPhrase,a=e.bestFitness,r=e.averageFitness,i=e.currentBestFitness,o=e.currentWorstFitness,u=function(e){return Math.round(100*e)+"%"};return s.a.createElement("div",null,s.a.createElement(y,{text:"Generations",value:t}),s.a.createElement(y,{text:"Best phrase",value:n}),s.a.createElement(y,{text:"Best fitness",value:u(a)}),s.a.createElement(y,{text:"Average fitness",value:u(r)}),s.a.createElement(y,{text:"Current best fitness",value:u(i)}),s.a.createElement(y,{text:"Current worst fitness",value:u(o)}))};C.defaultProps={generationCount:0,bestPhrase:"",bestFitness:0,averageFitness:0,currentBestFitness:0,currentWorstFitness:0};var k=C,P=function(e){for(var t=e.populationArr,n=Math.ceil(t.length/25),a=Math.trunc(t.length/n),r=t.length%n,i=[],o=0;o<n;o++)i.push(t.slice(o*a,o*a+a));for(var u=0;u<r;u++)i[i.length-1-u].push(t[t.length-1-u]);return i.map((function(e,t){return s.a.createElement("div",{className:"col col-auto",key:t},e.map((function(e,n){return s.a.createElement("div",{className:"row",key:String(t+n)},s.a.createElement("div",{className:"col"},s.a.createElement("h5",null,e)))})))}))};P.defaultProps={populationArr:[]};var x=P,S=function(e){var t=e.generationCount,n=e.bestPhrase,a=e.bestFitness,r=e.averageFitness,i=e.currentBestFitness,o=e.currentWorstFitness,u=e.populationArr;return s.a.createElement("div",{className:"row justify-content-center pt-5 pb-5"},s.a.createElement("div",{className:"col col-12 col-sm-6"},s.a.createElement(k,{generationCount:t,bestPhrase:n,bestFitness:a,averageFitness:r,currentBestFitness:i,currentWorstFitness:o})),s.a.createElement("div",{className:"col col-12 col-sm-6"},s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement(x,{populationArr:u}))))};S.defaultProps={generationCount:0,bestPhrase:"",bestFitness:0,averageFitness:0,currentBestFitness:0,currentWorstFitness:0,populationArr:[]};var N=S,B=function(e){var t=e.placeholder,n=e.id,a=e.onChange;return s.a.createElement("input",{type:"text",placeholder:t,id:n,onChange:a})};B.defaultProps={placeholder:"",id:""};var w=B,W=function(e){var t=e.min,n=e.max,a=e.step,r=e.defaultValue,i=e.id,o=e.onChange;return s.a.createElement("input",{type:"range",min:t,max:n,step:a,defaultValue:r,id:i,onChange:o})};W.defaultProps={min:0,max:1,step:1,defaultValue:0,id:""};var A=W,R=function(e){var t=e.onChange,n=e.targetPhrase,a=e.populationSize,r=e.mutationRate;return s.a.createElement("div",{className:"row justify-content-center pt-3 pb-3"},s.a.createElement("div",{className:"col col-12 col-sm-6 col-lg-3 align-self-center"},s.a.createElement(w,{placeholder:"Enter target phrase",id:"targetPhrase",onChange:t}),s.a.createElement(y,{text:"Target phrase",value:n})),s.a.createElement("div",{className:"col col-12 col-sm-6 col-lg-3 align-self-center"},s.a.createElement(A,{min:10,max:1e3,step:10,defaultValue:a,id:"populationSize",onChange:t}),s.a.createElement(y,{text:"Population size",value:a})),s.a.createElement("div",{className:"col col-12 col-sm-6 col-lg-3 align-self-center"},s.a.createElement(A,{min:0,max:100,step:1,defaultValue:r,id:"mutationRate",onChange:t}),s.a.createElement(y,{text:"Mutation rate",value:r+"%"})))};R.defaultProps={targetPhrase:"",populationSize:0,mutationRate:0};var j=R,M=n(7),O=n.n(M),z=function(e){Object(c.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).updateState=function(e){a.setState(Object(o.a)({},e.target.id,e.target.value))},a.start=function(e){e.target.blur(),a.state.targetPhrase.length>0&&(a.population=new F(a.state.targetPhrase,a.state.populationSize,.01*a.state.mutationRate),a.setState({isRunning:!0}))},a.update=function(){a.state.isRunning&&(a.population.isFinished()&&a.setState({isRunning:!1}),a.population.nextGeneration(),a.setState({generationCount:a.population.getGenerationCount(),bestPhrase:a.population.getBestPhrase(),bestFitness:a.population.getBestFitness(),averageFitness:a.population.getAverageFitness(),currentBestFitness:a.population.getCurrentBestFitness(),currentWorstFitness:a.population.getCurrentWorstFitness(),populationArr:a.population.getPopulationArr()}))},a.state={targetPhrase:"",populationSize:50,mutationRate:5,generationCount:0,bestPhrase:"",bestFitness:0,averageFitness:0,currentBestFitness:0,currentWorstFitness:0,populationArr:[],isRunning:!1},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.timer=setInterval((function(){return e.update()}),1e3/60)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"App container text-center pt-5"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement(m,{text:"Infinite Monkey"}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement(v,{text:"Demonstrates the infinite monkey theorem using genetic algorithm.\nEnter your desired phrase, adjust the evolution parameters, and watch your phrase evolve."}))),s.a.createElement(j,{onChange:this.updateState,targetPhrase:this.state.targetPhrase,populationSize:Number(this.state.populationSize),mutationRate:Number(this.state.mutationRate)}),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement(b,{onStart:function(t){return e.start(t)}}))),s.a.createElement(N,{generationCount:this.state.generationCount,bestPhrase:this.state.bestPhrase,bestFitness:this.state.bestFitness,averageFitness:this.state.averageFitness,currentBestFitness:this.state.currentBestFitness,currentWorstFitness:this.state.currentWorstFitness,populationArr:this.state.populationArr}),s.a.createElement(O.a,{href:"https://github.com/ryantran2165/infinite-monkey",bannerColor:"#222",octoColor:"#7fffd4",target:"_blank"}))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(16),n(17);i.a.render(s.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[10,1,2]]]);
//# sourceMappingURL=main.a37a933f.chunk.js.map